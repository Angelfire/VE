---
interface Heading {
  depth: number
  slug: string
  text: string
}

interface Props {
  headings: Heading[]
}

const { headings } = Astro.props
---

<aside>
  <nav class="sticky">
    <h2 class="mb-2 text-lg font-semibold text-slate-700 md:text-slate-900">Table of Contents</h2>
    <ul>
      {
        headings.map(heading => (
          <li class="group flex items-center py-1">
            {[...Array(heading.depth - 1)].map(() => (
              <span class="inline-block w-4" />
            ))}
            <a
              class="text-dark transition-all duration-200 ease-in-out hover:text-blue-600 focus:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 group-hover:underline"
              href={`#${heading.slug}`}
            >
              {heading.text}
            </a>
          </li>
        ))
      }
    </ul>
  </nav>
</aside>
